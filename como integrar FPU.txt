Para integrar a FPU ao datapath do processador RISC-V, é necessário realizar ajustes tanto na unidade de controle quanto na estrutura do datapath. A unidade de controle deve ser capaz de identificar instruções de ponto flutuante, que utilizam o opcode específico, e gerar um sinal de controle que permita selecionar a FPU como fonte de dados para o estágio de writeback. Essa detecção pode ser feita diretamente no módulo superior do processador, atribuindo um sinal lógico que indica o uso da FPU com base no opcode da instrução. 
No datapath, é preciso instanciar o módulo da FPU e conectá-lo adequadamente. Isso inclui criar um sinal para receber o resultado da operação de ponto flutuante e outro para decidir se esse resultado será utilizado no writeback. Os operandos para a FPU devem ser extraídos das saídas do banco de registradores, e o resultado final precisa ser encaminhado para o registrador de destino. Para isso, o caminho de dados deve ser ajustado para que o valor escrito no registrador possa vir da FPU quando apropriado.
Além disso, é necessário mapear os campos funct3 e funct7 para as operações específicas de ponto flutuante. O módulo da FPU deve ser desenvolvido com suporte a essas operações e integrado ao sistema. O controle de escrita nos registradores também deve ser mantido ativo para instruções de ponto flutuante, garantindo que o resultado seja armazenado corretamente.
Essas modificações permitem que o processador reconheça e execute instruções de ponto flutuante, utilizando a FPU como parte do datapath e garantindo que os resultados sejam corretamente encaminhados para os registradores.

